<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Add Space Grotesk font -->
    {#bundle /}
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="/css/admin-styles.css">
    <!-- SimpleMDE for markdown editing -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
</head>
<body class="admin">
<div class="admin-container">
    <!-- Sidebar -->
    <div class="admin-sidebar">
        <div class="admin-logo">
            <h1>Admin Panel</h1>
        </div>
        <nav class="admin-nav">
            <ul>
                <li>
                    <a href="/admin" class="{#if currentPath?? && (currentPath == '/admin' or currentPath == '/admin/')}active{/if}">
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="/admin/projects" class="{#if currentPath?? && currentPath.startsWith('/admin/projects')}active{/if}">
                        Projects
                    </a>
                </li>
                <li>
                    <a href="/admin/blog" class="{#if currentPath?? && currentPath.startsWith('/admin/blog')}active{/if}">
                        Blog Posts
                    </a>
                </li>
                <li>
                    <a href="/admin/logout">
                        Logout
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Main content -->
    <div class="admin-content">
        <div class="admin-header">
            <h2>{title ?: 'Admin Dashboard'}</h2>
        </div>

        {#if message??}
        <div class="admin-message {message.type}">
            {message.text}
        </div>
        {/if}

        {content.safe}
    </div>
</div>

<!-- SimpleMDE for markdown editing -->
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<!-- Initialize editors -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const editors = document.querySelectorAll('.markdown-editor');
        editors.forEach(element => {
            new SimpleMDE({ element });
        });
    });
</script>
</body>
</html>